---
import { displayDate } from "../lib/mediumDate";
import Picture from "./Picture.astro";
import { Icon } from "./Icon/Icon";

interface Props {
  title: string;
  description?: string;
  img?: ImageMetadata[];
  imgAlt?: string;
  datePublished?: Date;
}

const { title, description, img, imgAlt, datePublished } = Astro.props;
---

<header class="page-header">
  <h1>
    {title}
  </h1>
  {description && <p class="fs-3 sub">{description}</p>}
  {
    datePublished && (
      <span class="date">
        <Icon icon="penNib" size="18" />
        {datePublished ? displayDate(datePublished) : "Unknown Date"}
      </span>
    )
  }
  {
    img && imgAlt && (
      <div class="page-image">
        <Picture img={img} imgAlt={imgAlt} />
      </div>
    )
  }
</header>

<style>
  .page-header {
    padding-block-end: var(--space-l);
  }

  .sub {
    margin-block: var(--space-2xs);
    color: var(--gray-12);
    font-weight: 400;
    max-width: 37rem;
  }

  .page-image {
    overflow: hidden;
    border-radius: 0.3rem;
    margin-block-start: var(--space-l);
  }

  .date {
    display: flex;
    align-items: center;
    gap: 10px;
  }
</style>
