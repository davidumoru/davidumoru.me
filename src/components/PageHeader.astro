---
import { displayDate } from "../lib/mediumDate";
import Picture from "./Picture.astro";

interface Props {
  title: string;
  description?: string;
  img?: ImageMetadata[];
  imgAlt?: string;
  datePublished?: Date;
}

const { title, description, img, imgAlt, datePublished } = Astro.props;
---

<header class="page-header">
  {
    img && imgAlt && (
      <div class="page-image">
        <Picture img={img} imgAlt={imgAlt} />
      </div>
    )
  }
  <h1 itemprop="name" class="page-title">
    {title}
  </h1>
  {description && <p class="shade">{description}</p>}
  {
    datePublished && (
      <span class="fs--1">
        Written {datePublished ? displayDate(datePublished) : "Unknown Date"}
      </span>
    )
  }
</header>

<style>
  .page-header {
    padding-block-end: var(--space-xl);
  }

  .page-title {
    line-height: 3.2rem;
    padding-bottom: 0.5rem;
    font-size: var(--space-xl);
  }

  .page-image {
    background: var(--gray-5);
    display: flex;
    flex-direction: row;
    justify-content: center;
    overflow: hidden;
    border-radius: var(--radius-m);
    margin-block-start: var(--space-m);
  }
</style>
