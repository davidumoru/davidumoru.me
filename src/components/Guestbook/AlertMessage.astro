---
import { Icon } from "../Icon/Icon";

interface Props {
  type: "success" | "error";
  message: string;
}

const { type, message } = Astro.props;

const iconName = type === "success" ? "check" : "alert";
---

<div class="alert" data-type={type} role="alert">
  <span class="icon" aria-hidden="true">
    <Icon icon={iconName} size="22" />
  </span>
  <p class="message" id="alert-message">{message}</p>
</div>

<style>
  .alert {
    border-radius: 6px;
    padding: 0.8rem 1.2rem;
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .alert[data-type="success"] {
    background-color: var(--green-3);
    border: 1px solid var(--green-6);
    color: var(--green-11);
  }

  .alert[data-type="error"] {
    background-color: var(--red-3);
    border: 1px solid var(--red-6);
    color: var(--red-11);
  }

  .icon {
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
  }

  .message {
    font-weight: 500;
    line-height: 1.5;
    margin: 0;
    flex: 1;
  }
</style>
