---
import { Icon } from "../Icon/Icon";
import { displayDate } from "../../lib/mediumDate"
interface Props {
  author: string;
  link?: string;
  content: string;
  timestamp: Date;
}

const { author, link, content, timestamp } = Astro.props;
---

<article class="card">
  <header class="card-header">
    <h3 class="author">{author}</h3>
    {
      link && (
        <a href={link} target="_blank" rel="noopener" class="link">
          <Icon icon="externalLink" size="20" />
        </a>
      )
    }
  </header>
  <p class="content">{content}</p>
  <time datetime={timestamp.toISOString()} class="timestamp">
    {displayDate(new Date(timestamp))}
  </time>  
</article>

<style>
  .card {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    padding: 16px;
    margin-bottom: 16px;
    transition: box-shadow 0.3s ease;
  }
  .card:hover {
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
  }
  .card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
  }
  .author {
    font-weight: bold;
    font-size: 1.125rem;
    color: #333;
  }
  .link {
    font-size: 0.875rem;
    color: #1d4ed8;
    text-decoration: none;
    transition: color 0.3s ease;
  }
  .link:hover {
    color: #1e40af;
  }
  .content {
    color: #4b5563;
    line-height: 1.5;
    margin-bottom: 8px;
  }
  .timestamp {
    font-size: 0.875rem;
    color: #6b7280;
  }
</style>
