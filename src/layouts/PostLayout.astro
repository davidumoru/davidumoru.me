---
import type { MarkdownHeading } from "astro";
import PageHeader from "../components/PageHeader.astro";
import BaseLayout from "./BaseLayout.astro";
import CenteredLayout from "./CenteredLayout.astro";
import Disclaimer from "../components/Disclaimer.astro";

interface Props {
  title: string;
  description: string;
  datePublished?: Date;
  dateModified?: Date;
  img?: ImageMetadata[];
  imgAlt?: string;
  ogAlt?: string;
  hideDisclaimer?: boolean;
  hideDescription?: boolean;
  headings?: MarkdownHeading[];
}

const {
  title,
  description,
  datePublished,
  img,
  imgAlt,
  hideDisclaimer,
  hideDescription,
  headings,
} = Astro.props;
---

<BaseLayout title={title} description={description} headings={headings}>
  <CenteredLayout>
    <article class="h-entry" itemscope itemtype="https://schema.org/BlogPosting">
      <PageHeader
        title={title}
        description={hideDescription ? undefined : description}
        datePublished={datePublished}
        img={img}
        imgAlt={imgAlt}
      />
      <section itemprop="articleBody" class="prose e-content">
        <slot />
      </section>
      {!hideDisclaimer && <Disclaimer />}
      <slot name="after-prose" />
    </article>
  </CenteredLayout>
</BaseLayout>
